<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2023-12-07: UQ PUG 4 – UQ Python User Group</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Session Notebooks</li><li class="breadcrumb-item"><a href="../../Session_notebooks/Past - 2023/1-Sep23.html">Past - 2023</a></li><li class="breadcrumb-item"><a href="../../Session_notebooks/Past - 2023/4-Dec23.html">2023-12-07: UQ PUG 4</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">UQ Python User Group</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General information</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Session Notebooks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Current - 2024</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/12-Oct24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024 October 3<sup>rd</sup> – UQ PUG 12</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/13-Nov24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024 November 7<sup>th</sup> – UQ PUG 13</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/5-Feb24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024-2-7: UQ PUG 5</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/6-Mar24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024-3-7: UQ PUG 6</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/7-Apr24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024-5-11: UQ PUG 7</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/8-May24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024 May 2<sup>nd</sup> – UQ PUG 8</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Current - 2024/9-Jul24.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2024 July 4<sup>th</sup> – UQ PUG 9</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Past - 2023</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Past - 2023/1-Sep23.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2023-09-07: UQ PUG 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Past - 2023/2-Oct23.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2023-10-05: UQ PUG 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Past - 2023/3-Nov23.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2023-11-02: UQ PUG 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Session_notebooks/Past - 2023/4-Dec23.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2023-12-07: UQ PUG 4</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduce-yourself-whats-your-name-where-are-you-from-why-are-you-here-karen-uq-busines-school-to-learn-cameron-uq-library-to-help-and-learn-po-yen-uq-business-school-get-some-help-and-learn-i-guess-sagar-bangladesh-learn-python" id="toc-introduce-yourself-whats-your-name-where-are-you-from-why-are-you-here-karen-uq-busines-school-to-learn-cameron-uq-library-to-help-and-learn-po-yen-uq-business-school-get-some-help-and-learn-i-guess-sagar-bangladesh-learn-python" class="nav-link active" data-scroll-target="#introduce-yourself-whats-your-name-where-are-you-from-why-are-you-here-karen-uq-busines-school-to-learn-cameron-uq-library-to-help-and-learn-po-yen-uq-business-school-get-some-help-and-learn-i-guess-sagar-bangladesh-learn-python">Introduce yourself| What’s your name? | Where are you from? | Why are you here? || — | — | — ||Karen | UQ Busines School |to learn || Cameron | UQ Library | To help and learn|| | | ||Po-Yen |UQ Business school |Get some help and learn I guess :) || | | || Sagar |Bangladesh | Learn Python || | ||| | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | |</a></li>
  <li><a href="#questionsif-you-have-any-python-questions-youd-like-to-explore-with-the-group-please-put-them-in-a-markdown-cell-with-any-code-youd-like-us-to-run-in-a-python-cell." id="toc-questionsif-you-have-any-python-questions-youd-like-to-explore-with-the-group-please-put-them-in-a-markdown-cell-with-any-code-youd-like-us-to-run-in-a-python-cell." class="nav-link" data-scroll-target="#questionsif-you-have-any-python-questions-youd-like-to-explore-with-the-group-please-put-them-in-a-markdown-cell-with-any-code-youd-like-us-to-run-in-a-python-cell.">QuestionsIf you have any Python questions you’d like to explore with the group, please put them in a markdown cell, with any code you’d like us to run in a Python cell.</a>
  <ul class="collapse">
  <li><a href="#question-1---question---namequestion-about-the-cyclegan-architecture.-po-yen" id="toc-question-1---question---namequestion-about-the-cyclegan-architecture.-po-yen" class="nav-link" data-scroll-target="#question-1---question---namequestion-about-the-cyclegan-architecture.-po-yen">Question 1 - Question - NameQuestion about the CycleGAN architecture. Po-Yen</a></li>
  </ul></li>
  <li><a href="#answersyou-may-be-able-to-process-your-data-on-some-kind-of-hpcloud-computing-platform.at-uq-you-can-get-access-to-the-weiner-hpc-which-has-gpus-optimised-for-ml.you-should-still-be-eligible-for-nectar.-this-should-be-fairly-easy-to-sign-up-to-but-your-access-may-disappear-when-you-graduate.you-might-be-able-to-sign-up-for-mlerp.-this-may-take-more-effort-to-sign-up-to-thena-nectar-but-in-my-previous-discussions-with-people-at-mlerp-they-may-be-more-accepting-of-people-who-arent-attached-to-a-research-institution." id="toc-answersyou-may-be-able-to-process-your-data-on-some-kind-of-hpcloud-computing-platform.at-uq-you-can-get-access-to-the-weiner-hpc-which-has-gpus-optimised-for-ml.you-should-still-be-eligible-for-nectar.-this-should-be-fairly-easy-to-sign-up-to-but-your-access-may-disappear-when-you-graduate.you-might-be-able-to-sign-up-for-mlerp.-this-may-take-more-effort-to-sign-up-to-thena-nectar-but-in-my-previous-discussions-with-people-at-mlerp-they-may-be-more-accepting-of-people-who-arent-attached-to-a-research-institution." class="nav-link" data-scroll-target="#answersyou-may-be-able-to-process-your-data-on-some-kind-of-hpcloud-computing-platform.at-uq-you-can-get-access-to-the-weiner-hpc-which-has-gpus-optimised-for-ml.you-should-still-be-eligible-for-nectar.-this-should-be-fairly-easy-to-sign-up-to-but-your-access-may-disappear-when-you-graduate.you-might-be-able-to-sign-up-for-mlerp.-this-may-take-more-effort-to-sign-up-to-thena-nectar-but-in-my-previous-discussions-with-people-at-mlerp-they-may-be-more-accepting-of-people-who-arent-attached-to-a-research-institution.">AnswersYou may be able to process your data on some kind of HPC/loud computing platform.At UQ, you can get access to the Weiner HPC, which has GPUs optimised for ML.You should still be eligible for Nectar. This should be fairly easy to sign up to, but your access may disappear when you graduate.You might be able to sign up for MLeRP. This may take more effort to sign up to thena Nectar, but in my previous discussions with people at MLeRP, they may be more accepting of people who aren’t attached to a research institution.</a>
  <ul class="collapse">
  <li><a href="#question-2---question---nameadd-more-details-here" id="toc-question-2---question---nameadd-more-details-here" class="nav-link" data-scroll-target="#question-2---question---nameadd-more-details-here">Question 2 - Question - NameAdd more details here</a></li>
  <li><a href="#question-3---question---nameadd-more-details-here" id="toc-question-3---question---nameadd-more-details-here" class="nav-link" data-scroll-target="#question-3---question---nameadd-more-details-here">Question 3 - Question - NameAdd more details here</a></li>
  <li><a href="#question-4---question---nameadd-more-details-here" id="toc-question-4---question---nameadd-more-details-here" class="nav-link" data-scroll-target="#question-4---question---nameadd-more-details-here">Question 4 - Question - NameAdd more details here</a></li>
  <li><a href="#question-5---question---nameadd-more-details-here" id="toc-question-5---question---nameadd-more-details-here" class="nav-link" data-scroll-target="#question-5---question---nameadd-more-details-here">Question 5 - Question - NameAdd more details here</a></li>
  <li><a href="#question-6---question---nameadd-more-details-here" id="toc-question-6---question---nameadd-more-details-here" class="nav-link" data-scroll-target="#question-6---question---nameadd-more-details-here">Question 6 - Question - NameAdd more details here</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Session Notebooks</li><li class="breadcrumb-item"><a href="../../Session_notebooks/Past - 2023/1-Sep23.html">Past - 2023</a></li><li class="breadcrumb-item"><a href="../../Session_notebooks/Past - 2023/4-Dec23.html">2023-12-07: UQ PUG 4</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">2023-12-07: UQ PUG 4</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Welcome to UQ Python User Group! Check out our <a href="https://app.noteable.io/f/c84cf34f-03eb-48eb-aff4-ccf80b013b5c/UQ-PUG-General-Info.ipynb?cellID=1e2cf356">general information</a> for details about who we are and what we do.## Structure1. We start today by adding our names to the table below1. Add your questions to this page1. This month’s presentation1. Finally, we spend the rest of the session answering the questions you’ve brought!## Mailing listIf you would like to be on the mailing list and receive the latest PUG updates, please sign up here:https://forms.office.com/r/6qvfFX0qGrFeel free to send this link to anyone you think may benefit.## Training ResourcesWe offer Python training sessions and resources, you can find our introductory guide <a href="https://github.com/uqlibrary/technology-training/blob/master/Python/python_intro/python_intro.md">here</a>.</p>
<section id="introduce-yourself-whats-your-name-where-are-you-from-why-are-you-here-karen-uq-busines-school-to-learn-cameron-uq-library-to-help-and-learn-po-yen-uq-business-school-get-some-help-and-learn-i-guess-sagar-bangladesh-learn-python" class="level2">
<h2 class="anchored" data-anchor-id="introduce-yourself-whats-your-name-where-are-you-from-why-are-you-here-karen-uq-busines-school-to-learn-cameron-uq-library-to-help-and-learn-po-yen-uq-business-school-get-some-help-and-learn-i-guess-sagar-bangladesh-learn-python">Introduce yourself| What’s your name? | Where are you from? | Why are you here? || — | — | — ||Karen | UQ Busines School |to learn || Cameron | UQ Library | To help and learn|| | | ||Po-Yen |UQ Business school |Get some help and learn I guess :) || | | || Sagar |Bangladesh | Learn Python || | ||| | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | || | | |</h2>
</section>
<section id="questionsif-you-have-any-python-questions-youd-like-to-explore-with-the-group-please-put-them-in-a-markdown-cell-with-any-code-youd-like-us-to-run-in-a-python-cell." class="level2">
<h2 class="anchored" data-anchor-id="questionsif-you-have-any-python-questions-youd-like-to-explore-with-the-group-please-put-them-in-a-markdown-cell-with-any-code-youd-like-us-to-run-in-a-python-cell.">QuestionsIf you have any Python questions you’d like to explore with the group, please put them in a markdown cell, with any code you’d like us to run in a Python cell.</h2>
<section id="question-1---question---namequestion-about-the-cyclegan-architecture.-po-yen" class="level3">
<h3 class="anchored" data-anchor-id="question-1---question---namequestion-about-the-cyclegan-architecture.-po-yen">Question 1 - Question - NameQuestion about the CycleGAN architecture. Po-Yen</h3>
<div id="06eb4a2b-b9f4-48d2-954d-837010fcebc4" class="cell" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;,&quot;output_collection_id&quot;:&quot;23f478e3-34cc-4c7c-a0b1-f5f78483dc85&quot;}" data-tags="[]" data-executetime="{&quot;end_time&quot;:&quot;2023-12-07T00:05:00.374262+00:00&quot;,&quot;start_time&quot;:&quot;2023-12-07T00:05:00.218074+00:00&quot;}">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I don't get the part under "try" and the part of "except"#I also find that onece I load TPU, I have to wait to use this engineimport tensorflow as tffrom tensorflow import kerasfrom tensorflow.keras import layersimport tensorflow_addons as tfafrom kaggle_datasets import KaggleDatasetsimport matplotlib.pyplot as pltimport numpy as nptry:    tpu = tf.distribute.cluster_resolver.TPUClusterResolver()    print('Device:', tpu.master())    tf.config.experimental_connect_to_cluster(tpu)    tf.tpu.experimental.initialize_tpu_system(tpu)    strategy = tf.distribute.experimental.TPUStrategy(tpu)except:    strategy = tf.distribute.get_strategy()print('Number of replicas:', strategy.num_replicas_in_sync)AUTOTUNE = tf.data.experimental.AUTOTUNE    print(tf.__version__)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="58a904bd-fd54-4173-9f8d-02b2dc6cdade" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;code&quot;,&quot;output_collection_id&quot;:&quot;5c31f51e-eac0-47ab-8394-d3dc1be4e1ad&quot;}" data-executetime="{&quot;end_time&quot;:&quot;2023-12-07T00:34:53.886522+00:00&quot;,&quot;start_time&quot;:&quot;2023-12-07T00:34:53.731762+00:00&quot;}">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="dv">5</span><span class="er">try</span>:    <span class="st">"apple"</span><span class="op">**</span><span class="dv">2</span><span class="er">except</span> <span class="pp">ValueError</span>:    <span class="bu">print</span>(<span class="st">"We're inside the valueerror section"</span>)<span class="cf">except</span> <span class="pp">TypeError</span>:    <span class="bu">print</span>(<span class="st">"We're inside the typeerror section"</span>)    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="answersyou-may-be-able-to-process-your-data-on-some-kind-of-hpcloud-computing-platform.at-uq-you-can-get-access-to-the-weiner-hpc-which-has-gpus-optimised-for-ml.you-should-still-be-eligible-for-nectar.-this-should-be-fairly-easy-to-sign-up-to-but-your-access-may-disappear-when-you-graduate.you-might-be-able-to-sign-up-for-mlerp.-this-may-take-more-effort-to-sign-up-to-thena-nectar-but-in-my-previous-discussions-with-people-at-mlerp-they-may-be-more-accepting-of-people-who-arent-attached-to-a-research-institution." class="level1">
<h1>AnswersYou may be able to process your data on some kind of HPC/loud computing platform.At UQ, you can get access to the <a href="https://rcc.uq.edu.au/article/2019/10/rcc-supports-ai-research-uq">Weiner HPC</a>, which has GPUs optimised for ML.You should still be eligible for <a href="https://ardc.edu.au/services/ardc-nectar-research-cloud/">Nectar</a>. This should be fairly easy to sign up to, but your access may disappear when you graduate.You might be able to sign up for <a href="https://docs.mlerp.cloud.edu.au/">MLeRP</a>. This may take more effort to sign up to thena Nectar, but in my previous discussions with people at MLeRP, they may be more accepting of people who aren’t attached to a research institution.</h1>
<section id="question-2---question---nameadd-more-details-here" class="level3">
<h3 class="anchored" data-anchor-id="question-2---question---nameadd-more-details-here">Question 2 - Question - NameAdd more details here</h3>
<div id="f5d1f9c9-00e4-456b-929c-446c88ad470e" class="cell" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;,&quot;output_collection_id&quot;:&quot;8cea860d-562a-48e1-bb89-81abe10d1acf&quot;}" data-executetime="{&quot;end_time&quot;:&quot;2023-12-07T00:54:39.935710+00:00&quot;,&quot;start_time&quot;:&quot;2023-12-07T00:54:27.257432+00:00&quot;}">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install <span class="op">-</span>qU langchain openai transformers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9cec076a-dcb0-4e95-aac2-03548a0953b5" class="cell" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;,&quot;output_collection_id&quot;:&quot;a4c2209e-a2cf-43f8-a76b-28e815bf9fa7&quot;}" data-executetime="{&quot;end_time&quot;:&quot;2023-12-07T00:55:46.709117+00:00&quot;,&quot;start_time&quot;:&quot;2023-12-07T00:55:45.645997+00:00&quot;}">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.tools <span class="im">import</span> BaseToolfrom langchain.agents <span class="im">import</span> initialize_agent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ef3a63f0-fde1-4489-bf0e-5654b6083a9e" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;code&quot;,&quot;output_collection_id&quot;:&quot;6a5c0da8-97bf-4c89-94d5-36038a370a6b&quot;}" data-executetime="{&quot;end_time&quot;:&quot;2023-12-07T00:55:56.033309+00:00&quot;,&quot;start_time&quot;:&quot;2023-12-07T00:55:55.877942+00:00&quot;}" data-scrolled="true">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(initialize_agent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ef4f2e63-79f9-49bd-ac1d-257e69237013" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Can you tell me what does the error code meanagent(f"What does this image show?\n{img_url}")&gt; Entering new AgentExecutor chain...{    "action": "Image captioner",    "action_input": "https://images.unsplash.com/photo-1616128417859-3a984dd35f02?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=2372&amp;q=80"}---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)~\AppData\Local\Temp\ipykernel_5440\710257616.py in &lt;module&gt;----&gt; 1 agent(f"What does this image show?\n{img_url}")~\anaconda3\lib\site-packages\langchain\chains\base.py in __call__(self, inputs, return_only_outputs, callbacks, tags, metadata, run_name, include_run_info)    310         except BaseException as e:    311             run_manager.on_chain_error(e)--&gt; 312             raise e    313         run_manager.on_chain_end(outputs)    314         final_outputs: Dict[str, Any] = self.prep_outputs(~\anaconda3\lib\site-packages\langchain\chains\base.py in __call__(self, inputs, return_only_outputs, callbacks, tags, metadata, run_name, include_run_info)    304         try:    305             outputs = (--&gt; 306                 self._call(inputs, run_manager=run_manager)    307                 if new_arg_supported    308                 else self._call(inputs)~\anaconda3\lib\site-packages\langchain\agents\agent.py in _call(self, inputs, run_manager)   1310         # We now enter the agent loop (until it returns something).   1311         while self._should_continue(iterations, time_elapsed):-&gt; 1312             next_step_output = self._take_next_step(   1313                 name_to_tool_map,   1314                 color_mapping,~\anaconda3\lib\site-packages\langchain\agents\agent.py in _take_next_step(self, name_to_tool_map, color_mapping, inputs, intermediate_steps, run_manager)   1036     ) -&gt; Union[AgentFinish, List[Tuple[AgentAction, str]]]:   1037         return self._consume_next_step(-&gt; 1038             [   1039                 a   1040                 for a in self._iter_next_step(~\anaconda3\lib\site-packages\langchain\agents\agent.py in &lt;listcomp&gt;(.0)   1036     ) -&gt; Union[AgentFinish, List[Tuple[AgentAction, str]]]:   1037         return self._consume_next_step(-&gt; 1038             [   1039                 a   1040                 for a in self._iter_next_step(~\anaconda3\lib\site-packages\langchain\agents\agent.py in _iter_next_step(self, name_to_tool_map, color_mapping, inputs, intermediate_steps, run_manager)   1132                     tool_run_kwargs["llm_prefix"] = ""   1133                 # We then call the tool on the tool input to get an observation-&gt; 1134                 observation = tool.run(   1135                     agent_action.tool_input,   1136                     verbose=self.verbose,~\anaconda3\lib\site-packages\langchain_core\tools.py in run(self, tool_input, verbose, start_color, color, callbacks, tags, metadata, run_name, **kwargs)    363         except (Exception, KeyboardInterrupt) as e:    364             run_manager.on_tool_error(e)--&gt; 365             raise e    366         else:    367             run_manager.on_tool_end(~\anaconda3\lib\site-packages\langchain_core\tools.py in run(self, tool_input, verbose, start_color, color, callbacks, tags, metadata, run_name, **kwargs)    337                 self._run(*tool_args, run_manager=run_manager, **tool_kwargs)    338                 if new_arg_supported--&gt; 339                 else self._run(*tool_args, **tool_kwargs)    340             )    341         except ToolException as e:~\AppData\Local\Temp\ipykernel_5440\1932156217.py in _run(self, url)     12         image = Image.open(requests.get(img_url, stream=True).raw).convert('RGB')     13         # preprocess the image---&gt; 14         inputs = processor(image, return_tensors="pt").to(device)     15         # generate the caption     16         out = model.generate(**inputs, max_new_tokens=20)NameError: name 'processor' is not defined</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-3---question---nameadd-more-details-here" class="level3">
<h3 class="anchored" data-anchor-id="question-3---question---nameadd-more-details-here">Question 3 - Question - NameAdd more details here</h3>
<div id="a08854c2-97e4-46d4-9a45-8793ee3eca0c" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Code for Q3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-4---question---nameadd-more-details-here" class="level3">
<h3 class="anchored" data-anchor-id="question-4---question---nameadd-more-details-here">Question 4 - Question - NameAdd more details here</h3>
<div id="c0f0d7c3-9428-4447-9ab0-b6477467739e" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Code for Q4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-5---question---nameadd-more-details-here" class="level3">
<h3 class="anchored" data-anchor-id="question-5---question---nameadd-more-details-here">Question 5 - Question - NameAdd more details here</h3>
<div id="05f5f2f1-4784-446c-a556-aa61c14538a2" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-6---question---nameadd-more-details-here" class="level3">
<h3 class="anchored" data-anchor-id="question-6---question---nameadd-more-details-here">Question 6 - Question - NameAdd more details here</h3>
<div id="69f0c052-a847-45c5-89ee-310c925311d5" class="cell" data-jupyter="{&quot;outputs_hidden&quot;:false,&quot;source_hidden&quot;:false}" data-noteable="{&quot;cell_type&quot;:&quot;python&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Code for Q6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uqpug\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>